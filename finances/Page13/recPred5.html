<!--recPred5.html - Recession prediction based on five inputs: 
                    Yield spread -> financial
                    Sahm gap -> labor
                    Real PCE -> consumption
                    Industrial production -> production
                    Building permits -> real activity
-->

<!--Run the python script "recPred5.py" first-->

<!--Be sure to compare your results with:
    New York Fed (10y–3m yield curve model)
    - Uses only the term spread as predictor.
    - Simple, widely trusted, but sometimes "false alarms" when curve inverts without recession.

    Sahm Rule Recession Indicator
    - Not a probability model; it’s a trigger rule.

  Conference Board Leading Economic Index (LEI)
    - See https://www.conference-board.org/topics/us-leading-indicators/
    - Broader basket, but sometimes lags or gives mixed signals.

  Private-sector multi-factor models (e.g., Goldman Sachs, Moody’s, Bloomberg consensus)
    - Often multi-factor with 10–20 inputs.
-->

<!--22-Aug-25  M. Watler        Created.
    23-Aug-25  M. Watler        Retrieve coefficients from a file
    23-Aug-25  M. Watler        Added a fourth input - building permits.
    24-Aug-25  M. Watler        Added a fifth input - industrial production.
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Recession Probability — 5-input (Fitted)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:2rem;line-height:1.45}
    .card{max-width:760px;border:1px solid #ddd;border-radius:14px;padding:1.25rem;box-shadow:0 4px 14px rgba(0,0,0,.06)}
    .muted{color:#555}.big{font-size:2.2rem;margin:.25rem 0}
    code{background:#fafafa;border:1px solid #eee;border-radius:6px;padding:.1rem .35rem}
    table{border-collapse:collapse;margin-top:.5rem} td{padding:.25rem .5rem;vertical-align:top}
    pre{background:#fafafa;border:1px solid #eee;border-radius:10px;padding:.75rem}
  </style>
  <script src="result5.js"></script>
</head>
<body>
  <div class="card">
    <h1 id="title">Recession Probability</h1>
    <div id="asof" class="muted"></div>
    <div class="big" id="prob">—</div>
    <div class="muted">P(next 12 months)</div>

    <div id="featWrap" style="display:none">
      <h3>Features</h3>
      <table id="feat"></table>
    </div>

    <div id="contribWrap" style="display:none">
      <h3>Contributions</h3>
      <pre id="contrib"></pre>
    </div>
  </div>

  <script>
    const R = window.recessionResult5 || {};
    document.getElementById("title").textContent = `Recession Probability — ${R.title||"5-input (Fitted)"}`;
    document.getElementById("asof").textContent  = R.as_of ? `As of: ${R.as_of}` : "";
    document.getElementById("prob").textContent  = (R.probability_pct!=null)? `${R.probability_pct.toFixed(1)}%` : "—";

    if (R.features){
      const rows = Object.entries(R.features).map(([k,v]) => `<tr><td>${k}</td><td><code>${Number(v).toFixed(3)}</code></td></tr>`).join("");
      document.getElementById("feat").innerHTML = rows;
      document.getElementById("featWrap").style.display = "";
    }
    if (R.contributions){
      const lines = Object.entries(R.contributions).map(([k,v]) => `${k.padEnd(24)} ${v>=0?'+':''}${Number(v).toFixed(3)}`);
      if (R.z!=null) lines.push("", `z = ${Number(R.z).toFixed(4)}`);
      document.getElementById("contrib").textContent = lines.join("\n");
      document.getElementById("contribWrap").style.display = "";
    }
  </script>
</body>
</html>
